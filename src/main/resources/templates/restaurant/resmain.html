<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reservation Page</title>
    <link rel="stylesheet" href="../../static/css/restaurant/resmain.css" />
</head>
<body>
<div class="container">
    <div class="header">
        <img
                src="./asset/img/main res img/1.jpg"
                alt="Restaurant Image"
                class="restaurant-image"
        />
        <div class="header-info">
            <h1 id="restaurant-name"></h1>
            <p class="description" id="restaurant-description"></p>
            <p>
                <strong>영업 시간:</strong> <span id="restaurant-hours"></span>
                <strong>전화번호:</strong> <span id="restaurant-phone"></span>
            </p>
            <p><strong>주소:</strong> <span id="restaurant-address"></span></p>
        </div>
    </div>

    <h2>메뉴</h2>
    <div id="menu" class="menu"></div>

    <h2>예약하기</h2>
    <form class="reservation-form">
        <label for="name">이름</label>
        <input type="text" id="name" placeholder="이름 입력" />

        <label for="phone">전화번호</label>
        <input type="text" id="phone" placeholder="전화번호 입력" />

        <label for="date">날짜</label>
        <input type="date" id="date" />

        <label for="time">시간</label>
        <select id="time">
            <option value="09:00">09:00</option>
            <option value="10:00">10:00</option>
            <option value="11:00">11:00</option>
            <option value="12:00">12:00</option>
            <option value="13:00">13:00</option>
            <option value="14:00">14:00</option>
            <option value="15:00">15:00</option>
            <option value="16:00">16:00</option>
            <option value="17:00">17:00</option>
            <option value="18:00">18:00</option>
            <option value="19:00">19:00</option>
            <option value="20:00">20:00</option>
            <option value="21:00">21:00</option>
            <option value="22:00">22:00</option>
            <option value="23:00">23:00</option>
            <option value="00:00">00:00</option>
        </select>

        <label for="people">인원 수</label>
        <input
                type="number"
                id="people"
                min="1"
                max="10"
                placeholder="인원 수 입력"
        />

        <button type="submit">예약하기</button>
    </form>
</div>

<script>
    // Function to fetch restaurant data
    async function loadRestaurantData() {
        try {
            // Replace 'API_URL' with your actual backend API endpoint
            const response = await fetch('API_URL/restaurant');
            const data = await response.json();

            // Populate restaurant data
            document.getElementById("restaurant-name").textContent = `${data.name} ⭐ ${data.rating} (${data.reviews})`;
            document.getElementById("restaurant-description").textContent = data.description;
            document.getElementById("restaurant-hours").textContent = data.hours;
            document.getElementById("restaurant-phone").textContent = data.phone;
            document.getElementById("restaurant-address").textContent = data.address;

            // Populate menu
            const menuContainer = document.getElementById("menu");
            menuContainer.innerHTML = "";  // Clear existing items
            data.menu.forEach(item => {
                const menuItem = document.createElement("div");
                menuItem.className = "menu-item";
                menuItem.innerHTML = `${item.name} <span>${item.price}</span>`;
                menuContainer.appendChild(menuItem);
            });
        } catch (error) {
            console.error("Error loading restaurant data:", error);
        }
    }

    // Load data on page load
    document.addEventListener("DOMContentLoaded", loadRestaurantData);
</script>
</body>
</html>
